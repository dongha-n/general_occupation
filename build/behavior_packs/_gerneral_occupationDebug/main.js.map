{"version":3,"sources":["main.ts"],"names":[],"mappings":"AAAA,OAAO,EAAmB,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAE3D,MAAM,GAAG,GAAG,MAAM,CAAC;AACnB,MAAM,CAAC,GAAG,CAAC,CAAC;AACZ,MAAM,EAAE,GAAG,CAAC,CAAC;AACb,MAAM,YAAY,GAAG,UAAU,CAAC;AAChC,MAAM,YAAY,GAAG,uBAAuB,CAAC;AAC7C,MAAM,WAAW,GAAG,sBAAsB,CAAC;AAE3C,KAAK,CAAC,WAAW,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;IACpD,KAAK,CAAC,WAAW,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;AACzD,CAAC,CAAC,CAAC;AAEH,KAAK,CAAC,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE,GAAE,CAAC,CAAC,CAAC;AAErE,SAAS,2BAA2B,CAAC,GAAY;IAC/C,MAAM,GAAG,GAAc,EAAE,CAAC;IAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YAC1B,GAAG,CAAC,IAAI,CAAC;gBACP,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE;gBACjB,CAAC,EAAE,GAAG,CAAC,CAAC;gBACR,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE;aAClB,CAAC,CAAC;SACJ;KACF;IACD,OAAO,GAAG,CAAC;AACb,CAAC;AAED,KAAK,CAAC,WAAW,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;IAC5D,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,SAAS,EAAE,MAAM,KAAK,WAAW,EAAE;QACtE,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC;QACxC,MAAM,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,EAAG,CAAC,QAAQ,CAAC;QACpD,2BAA2B,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACrD,IAAI,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,EAAE;gBACjD,SAAS,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;aAC9C;QACH,CAAC,CAAC,CAAC;KACJ;AACH,CAAC,CAAC,CAAC","file":"../gerneral_occupation/scripts/main.js","sourcesContent":["import { Vector3, system, world } from \"@minecraft/server\";\n\nconst TAG = \"CROP\";\nconst R = 5;\nconst R2 = 2;\nconst FARMLAND_TAG = \"FARMLAND\";\nconst FARMLAND_WET = \"dongha_n:farmland_wet\";\nconst WATERINGCAN = \"dongha_n:wateringcan\";\n\nworld.afterEvents.worldInitialize.subscribe((param) => {\n  world.sendMessage(`${Date().toString()} farming init`);\n});\n\nworld.beforeEvents.playerInteractWithEntity.subscribe((param) => {});\n\nfunction generateLocationForWatering(pos: Vector3): Vector3[] {\n  const res: Vector3[] = [];\n  for (let i = 0; i < R; i++) {\n    for (let j = 0; j < R; j++) {\n      res.push({\n        x: pos.x + i - R2,\n        y: pos.y,\n        z: pos.z + j - R2,\n      });\n    }\n  }\n  return res;\n}\n\nworld.afterEvents.playerInteractWithBlock.subscribe((param) => {\n  if (param.block.hasTag(TAG) && param.itemStack?.typeId === WATERINGCAN) {\n    const dimension = param.block.dimension;\n    const belowLocation = param.block.below()!.location;\n    generateLocationForWatering(belowLocation).map((pos) => {\n      if (dimension.getBlock(pos)?.hasTag(FARMLAND_TAG)) {\n        dimension.fillBlocks(pos, pos, FARMLAND_WET);\n      }\n    });\n  }\n});\n"],"sourceRoot":"../../../scripts/"}